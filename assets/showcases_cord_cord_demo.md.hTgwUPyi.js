import{_ as e,c as t,o,a8 as a,aZ as i,a_ as r,a$ as n,b0 as s,b1 as l,b2 as d,b3 as h,b4 as u,b5 as c,b6 as p}from"./chunks/framework.Dim5U3g3.js";const x=JSON.parse('{"title":"PHT CORD Demo","description":"","frontmatter":{},"headers":[],"relativePath":"showcases/cord/cord_demo.md","filePath":"showcases/cord/cord_demo.md"}'),m={name:"showcases/cord/cord_demo.md"},b=a('<h1 id="pht-cord-demo" tabindex="-1">PHT CORD Demo <a class="header-anchor" href="#pht-cord-demo" aria-label="Permalink to &quot;PHT CORD Demo&quot;">​</a></h1><p>This section will provide explanations and examples for writing and executing CORD demo code and queries by using PHT meDIC. By using the demo account, we automatically accept and execute your analysis over three stations providing secure access to synthetic CORD demo data in FHIR.</p><p>Demo credentials for <a href="https://demo.personalhealthtrain.de" target="_blank" rel="noreferrer">PHT demo</a>: username <code>demo_user</code> and password <code>cord_pht_demo</code>. With this user you can use all functionalities and take a look at our admin area. Don&#39;t worry and play around, you cannot break something and the system resets itself.</p><h2 id="running-cord-demo-trains" tabindex="-1">Running CORD demo trains <a class="header-anchor" href="#running-cord-demo-trains" aria-label="Permalink to &quot;Running CORD demo trains&quot;">​</a></h2><p>We suggest to you to follow these steps:</p><ol><li>Download and install our Offline Tool.</li><li>Load the private keys.</li><li>Train submission: <ol><li>Define your FHIR query to be executed (see section below).</li><li>Define your analysis (see section below).</li><li>Submit your code (see section below).</li></ol></li><li>Run the train.</li><li>Decrypt results.</li></ol><h3 id="step-1-preliminaries" tabindex="-1">Step 1 - Preliminaries <a class="header-anchor" href="#step-1-preliminaries" aria-label="Permalink to &quot;Step 1 - Preliminaries&quot;">​</a></h3><ol><li>Download and install the Offline Tool from our <a href="https://github.com/PHT-Medic/offline-tool/releases" target="_blank" rel="noreferrer">releases page</a>.</li><li>The demo user has predefined <a href="https://github.com/PHT-Medic/cord-pht-demo/tree/master/cord-demo-keys" target="_blank" rel="noreferrer">keys</a>. Please download those.</li><li>Login to our <a href="https://demo.personalhealthtrain.de" target="_blank" rel="noreferrer">PHT demo page</a> with username <code>demo_user</code> and password <code>cord_pht_demo</code>.</li></ol><h3 id="step-2-offline-tool-and-key-loading" tabindex="-1">Step 2 - Offline Tool and key loading <a class="header-anchor" href="#step-2-offline-tool-and-key-loading" aria-label="Permalink to &quot;Step 2 - Offline Tool and key loading&quot;">​</a></h3><p>Get familiar with its functionalities. Additional information can be found in the <a href="./../../guide/user/train.html">DesktopApp documentation</a>.</p><p>You need to download and use the <a href="https://github.com/PHT-Medic/cord-pht-demo/tree/master/cord-demo-keys" target="_blank" rel="noreferrer">keys</a> in order to decrypt the analysis results. Go to the <code>Security Values</code> section of the tool and load the previous downloaded <code>demo-start123_sk.pem</code> private key. You need to enter the password of the private key: <code>start123</code>. Now you can continue with the train submission - you will need to sign your submitted code and query with your private key.</p><h3 id="step-3-train-submission" tabindex="-1">Step 3 - Train submission <a class="header-anchor" href="#step-3-train-submission" aria-label="Permalink to &quot;Step 3 - Train submission&quot;">​</a></h3><p>For this CORD PHT demo we recommend using or customizing an example train. Please clone this <a href="https://github.com/PHT-Medic/cord-pht-demo" target="_blank" rel="noreferrer">repository</a> if you want to use our example trains.</p><p>Now you need to decide if you want to run a <a href="./cord_python.html">Python</a> or <a href="./cord_r.html">R</a> analysis. By writing the analysis code, you specify the data access, we recommend using FHIR.</p><h4 id="step-3-1-fhir-queries" tabindex="-1">Step 3.1 - FHIR queries <a class="header-anchor" href="#step-3-1-fhir-queries" aria-label="Permalink to &quot;Step 3.1 - FHIR queries&quot;">​</a></h4><p>Our self implemented train-library not only includes security but also standardised FHIR query execution and access and currently supports the following servers: IBM, Hapi and Blaze. In this demo we use Blaze FHIR servers.</p><p>Read this section for details regarding FHIR queries: <a href="./cord_fhir.html">FHIR query documentation</a> or continue with the train submission.</p><h4 id="step-3-2-write-your-analysis-code" tabindex="-1">Step 3.2 - Write your analysis code <a class="header-anchor" href="#step-3-2-write-your-analysis-code" aria-label="Permalink to &quot;Step 3.2 - Write your analysis code&quot;">​</a></h4><p>You can write your analysis code in any IDE. We suggest to use PyCharm for Python and RStudio for R code. The following examples will be executed at each station. Please get familiar with the following Python or R code:</p><p>R demo trains code is documented here: <a href="./cord_r.html">R CORD documentation</a></p><p>Python demo trains code is documented here: <a href="./cord_python.html">Python CORD documentation</a></p><h4 id="step-3-3-code-submission" tabindex="-1">Step 3.3 - Code submission <a class="header-anchor" href="#step-3-3-code-submission" aria-label="Permalink to &quot;Step 3.3 - Code submission&quot;">​</a></h4><p>Upload your analysis code within the UI and select the entrypoint (script to be executed at stations if multiple files are submitted). The hash of the uploaded files and query needs to be signed by using the Offline Tool with your private key. The next steps guide you through the general submission process, exemplified by the submission of <a href="https://github.com/PHT-Medic/cord-pht-demo/blob/master/R/demo-train-2.R" target="_blank" rel="noreferrer">R demo train 2</a>.</p><ol><li><p>Login to the UI</p></li><li><p>Create a new train. Select the proposal based on your desired programming language.</p></li><li><p>Keep the default Demo master image of the train unchanged, if you submit provided example code. <br><br><img src="'+i+'" alt="submission 1"><br><br></p></li><li><p>Specify the stations to be executed at and select depending on your programming language the master image. <br><br><img src="'+r+'" alt="submission 2"><br><br></p></li><li><p>Upload the algorithm and select the entrypoint of the train. <br><br><img src="'+n+'" alt="submission 3"><br><br></p></li><li><p>Specify the query <br><br><img src="'+s+'" alt="submission 4"><br><br></p></li><li><p>Sign the hash with the desktop app <br><br> <img src="'+l+'" alt="submission 5"><br><br></p></li></ol><h3 id="step-4-train-running" tabindex="-1">Step 4 - Train running <a class="header-anchor" href="#step-4-train-running" aria-label="Permalink to &quot;Step 4 - Train running&quot;">​</a></h3><p>You need to build and run the train before you can download the results. Start the building process of the train.<br><br><br> <img src="'+d+'" alt="submission 6"><br><br> Please manually reload the page within the browser after 30-40 seconds. Then you will be able to start the execution at the stations. <br><br> <img src="'+h+'" alt="submission 7"><br><br></p><p>After a few minutes, results are available. Please reload the page manually again. A soon released feature will display the progress of the train in the Stations overview with a random station numbering. The user will also be able to see log files of the train.</p><h3 id="step-5-result-download-and-decryption" tabindex="-1">Step 5 - result download and decryption <a class="header-anchor" href="#step-5-result-download-and-decryption" aria-label="Permalink to &quot;Step 5 - result download and decryption&quot;">​</a></h3><p>After a few minutes your train results can be downloaded. The files are automatically encrypted and need to be decrypted with the Offline Tool. Please follow these steps:</p><ol><li>Download results <br><br> <img src="'+u+'" alt="submission 8"><br><br></li><li>Unzip the downloaded train results locally</li><li>Result decryption: <ol><li>Start the Offline Tool</li><li>Go to the &quot;Model&quot; section</li><li>Load your private key</li><li>Open the unzipped result directory &quot;pht_results&quot;</li><li>Load the &quot;train_config.json&quot;-file of your train</li><li>Select the files to decrypt (the selected ones appear in the box on the right)</li><li>Decrypt the files by pressing the &quot;Decrypt selected models&quot; button <br><br> <img src="'+c+'" alt="submission 9"><br><br></li></ol></li><li>View, process and store the results locally on your computer. You can directly access them with the &quot;Show decrypted files&quot; button. <br><br> <img src="'+p+'" alt="submission 10"><br><br></li></ol><p>More information regarding result decryption can be read <a href="./../../guide/user/train.html#decrypt">here</a>. The decrypted files can be accessed from your explorer or finder locally.</p><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h2><h3 id="train-not-updating" tabindex="-1">Train not updating <a class="header-anchor" href="#train-not-updating" aria-label="Permalink to &quot;Train not updating&quot;">​</a></h3><p><strong>Question: My train is not updated in the UI, what can I do?</strong></p><p><strong>Answer</strong> Most likely your code or query has caused an error during execution. We work on extending this version to provide you with log files from the execution.</p><h3 id="is-this-the-pht" tabindex="-1">Is this the PHT? <a class="header-anchor" href="#is-this-the-pht" aria-label="Permalink to &quot;Is this the PHT?&quot;">​</a></h3><p><strong>Question: Is this the Personal Health Train?</strong></p><p><strong>Answer</strong> This is the implementation of the PHT from Tübingen University (PHT-meDIC). Many other versions exist.</p><h3 id="any-difference-in-the-demo" tabindex="-1">Any difference in the demo? <a class="header-anchor" href="#any-difference-in-the-demo" aria-label="Permalink to &quot;Any difference in the demo?&quot;">​</a></h3><p><strong>Question: Is the PHT-meDIC as it would operate on real patient data?</strong></p><p><strong>Answer</strong> All services are interacting in this demo, as it would be on real data. But there is a major difference: any train will be approved and executed. There is no one to validate, if something malicious is ongoing. In case you saved all patient data as fake results in the train, you did not break the system nor hacked the architecture. We allowed you and automatically executed your train to do so.</p>',41),f=[b];function y(g,w,_,q,P,T){return o(),t("div",null,f)}const R=e(m,[["render",y]]);export{x as __pageData,R as default};
