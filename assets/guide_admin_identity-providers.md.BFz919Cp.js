import{_ as e,c as t,o as a,a8 as i,aa as n,ab as o,ac as s,ad as r,ae as l,af as d,ag as c,ah as p}from"./chunks/framework.CZrVQoiA.js";const w=JSON.parse('{"title":"Identity Providers","description":"","frontmatter":{},"headers":[],"relativePath":"guide/admin/identity-providers.md","filePath":"guide/admin/identity-providers.md"}'),h={name:"guide/admin/identity-providers.md"},g=i('<h1 id="identity-providers" tabindex="-1">Identity Providers <a class="header-anchor" href="#identity-providers" aria-label="Permalink to &quot;Identity Providers&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">Notice</p><p>In order to manage your identity-providers, nodes, ... you need to get an organization. Please contact us, such we can provide you a realm in which you can manage all your nodes, users and identity providers. For more details on realms click <a href="/guide/admin/realms.html">here</a>.</p></div><p>Identity providers allow for an alternative way to login into a realm. They are set up by the administrator with external third-party OIDC providers such as google, Keycloak, and many others.</p><h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;Setup&quot;">​</a></h2><p>To allow each participant to control their own distribution of roles, the central UI allows the user to configure an OIDC provider which can be used to authenticate users associated with their realm. OIDC providers can be configured in the admin panel of the central UI under <strong>Auth -&gt; Identity Providers</strong>. <a href="/images/ui_images/providers_overview.png"><img src="'+n+'" alt="image"></a></p><p>Clicking on the <strong>Add</strong> button on the left will allow you to configure a new OIDC provider. The form for adding the identity provider holds the following options:</p><ul><li><strong>Configuration</strong><ul><li><strong>Slug</strong>: Readable slug identifier for OIDC provider configuration in the central UI. May only contain the following characters: [0-9a-z-_]+</li><li><strong>Name</strong>: Visible handle, shown in OIDC provider overview in the central UI</li></ul></li><li><strong>Security</strong><ul><li><strong>Client ID</strong>: Identifier/Username in OIDC provider</li><li><strong>Client Secret</strong>: Password/Secret in OIDC provider</li></ul></li><li><strong>Token</strong><ul><li><strong>Endpoint</strong>: Token endpoint for OIDC provider</li></ul></li><li><strong>Authorization</strong><ul><li><strong>Endpoint</strong>: Authorization endpoint for OIDC provider</li></ul></li></ul><p><a href="/images/ui_images/oidc_add.png"><img src="'+o+`" alt="image"></a></p><h3 id="example-keycloak" tabindex="-1">Example: Keycloak <a class="header-anchor" href="#example-keycloak" aria-label="Permalink to &quot;Example: Keycloak&quot;">​</a></h3><p>Any OpenID-provider can be configured to be selected in the login screen to authenticate users belonging to your realm. If you don&#39;t know how to set up a client, follow the steps below for an example configuration of Keycloak.</p><p>The following settings are used in the User Interface with Keycloak as identity provider:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Slug: Unique pretty (url) identifier</span></span>
<span class="line"><span>Name: &lt;Display name in UI&gt;</span></span>
<span class="line"><span>Client-ID: &lt;name of client specified in keycloak&gt;</span></span>
<span class="line"><span>Client Secret: &lt;secret of client if set to confidential&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Token</span></span>
<span class="line"><span>Endpoint: (e.g. https://DOMAIN.de/auth/realms/REALM_NAME/protocol/openid-connect/token)</span></span>
<span class="line"><span>DOMAIN and REALM_NAME need to be edited.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Authorization</span></span>
<span class="line"><span>Endpoint: (e.g. https://DOMAIN.de/auth/realms/REALM_NAME/protocol/openid-connect/auth)</span></span>
<span class="line"><span>DOMAIN and REALM_NAME need to be edited.</span></span></code></pre></div><h5 id="create-a-realm-in-keycloak" tabindex="-1">Create a Realm in Keycloak <a class="header-anchor" href="#create-a-realm-in-keycloak" aria-label="Permalink to &quot;Create a Realm in Keycloak&quot;">​</a></h5><ol><li>Create a realm - in this example: <code>PHT_DEV</code></li><li>Create a new client within this realm - in this example: <code>pht-staging</code><a href="/images/keycloak_images/keycloak_1.png"><img src="`+s+'" alt="image"></a></li><li>Set the access type to confidential and a root URL and the valid redirect URIs <a href="/images/keycloak_images/keycloak_2.png"><img src="'+r+'" alt="image"></a></li><li>Copy your client secret and use it for the configuration in the UI <a href="/images/keycloak_images/keycloak_3.png"><img src="'+l+'" alt="image"></a></li><li>The following two roles must be created in the identity provider <a href="/images/keycloak_images/keycloak_4.png"><img src="'+d+'" alt="image"></a></li></ol><h2 id="management" tabindex="-1">Management <a class="header-anchor" href="#management" aria-label="Permalink to &quot;Management&quot;">​</a></h2><ol><li>Within the admin area (top left), you need to select <strong>Identity Providers</strong> within the left navigation. <a href="/images/ui_images/oidc.png"><img src="'+c+'" alt="image"></a></li><li><strong>View</strong> existing identity providers (Optional: Use the search bar at the top).</li><li><strong>See/Edit details and roles</strong> for each identity provider by clicking the blue triple-bar button on the right. Doing so shows the general description of the identity provider configuration. <a href="/images/ui_images/oidc_details.png"><img src="'+p+'" alt="image"></a><br> Here you may also change roles automatically assigned to users, that use this identity provider at the bottom, by either adding a role with the green plus-button, or deleting it with the red trashcan-button. Individual changes here have to be saved by clicking the respective black save-button.</li><li><strong>Delete</strong> identity providers by clicking the red thrash can button on the right.</li><li><strong>Add</strong> identity providers by clicking the grey plus button on the left of the overview (for details see description at the top).</li><li><strong>Refresh</strong> this list anytime by clicking the black refresh button on the top right.</li></ol>',16),u=[g];function m(y,f,_,k,v,b){return a(),t("div",null,u)}const C=e(h,[["render",m]]);export{w as __pageData,C as default};
