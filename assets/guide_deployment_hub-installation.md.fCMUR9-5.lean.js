import{_ as i,c as a,a0 as e,o as t}from"./chunks/framework.BGabeMLJ.js";const u=JSON.parse('{"title":"FLAME Hub Helm Chart","description":"","frontmatter":{},"headers":[],"relativePath":"guide/deployment/hub-installation.md","filePath":"guide/deployment/hub-installation.md"}'),n={name:"guide/deployment/hub-installation.md"};function l(h,s,r,o,p,k){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="flame-hub-helm-chart" tabindex="-1">FLAME Hub Helm Chart <a class="header-anchor" href="#flame-hub-helm-chart" aria-label="Permalink to &quot;FLAME Hub Helm Chart&quot;">​</a></h1><p>The FLAME Hub Chart provides a default configuration in <code>values.yaml</code> but is meant to be installed with your own adjusted override values file, e.g. <code>values_local.yaml</code>. To get an overview of all configuration options, see the <a href="https://github.com/PrivateAIM/helm/blob/master/charts/flame-hub/values.yaml" target="_blank" rel="noreferrer"><code>values.yaml</code> in the Helm Repository</a> You can choose if you want to use the chart&#39;s harbor or a separate external harbor instance.</p><h2 id="prerequisites" tabindex="-1">Prerequisites: <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites:&quot;">​</a></h2><ul><li>Existing k8s distribution (see <a href="./microk8s-quickstart.html">microk8s-quickstart</a> or <a href="./minikube-quickstart.html">minikube-quickstart</a> for a guide) <ul><li>Ingress addon</li><li>Default StorageClass (e.g. hostpath-storage addon in microk8s)</li></ul></li><li>Two domain names (one for the Hub, one for Harbor). If you run the Hub on your local machine, you can choose them freely and set them in your hosts file (<code>/etc/hosts</code>)</li></ul><h2 id="storage" tabindex="-1">Storage <a class="header-anchor" href="#storage" aria-label="Permalink to &quot;Storage&quot;">​</a></h2><p>The chart will use whichever storage class is the default in your cluster, unless you specify otherwise in the values. See <a href="./hub-storage.html">Storage Setup</a> for instructions how to setup Mayastor Storage Replication. This requires 3+ nodes in your cluster and will replicate persistent volumes across them.</p><h2 id="ingress" tabindex="-1">Ingress <a class="header-anchor" href="#ingress" aria-label="Permalink to &quot;Ingress&quot;">​</a></h2><p>See the <code>values.yaml</code> for ingress options. The default ingress configuration will use path-based routing for all services except Harbor (which requires its own hostname). You will have to provide an extra (sub)domain if you want to use the harbor component of this chart. The current setup does not automatically acquire TLS certificates.</p><h2 id="installing-the-flame-hub-chart" tabindex="-1">Installing the FLAME Hub Chart <a class="header-anchor" href="#installing-the-flame-hub-chart" aria-label="Permalink to &quot;Installing the FLAME Hub Chart&quot;">​</a></h2><h3 id="_1-option-official-chart-repo" tabindex="-1">1. Option: Official Chart Repo <a class="header-anchor" href="#_1-option-official-chart-repo" aria-label="Permalink to &quot;1. Option: Official Chart Repo&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flame</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://PrivateAIM.github.io/helm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div><p>Create your custom values file (instructions below).</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">release-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">values-fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flame/hub</span></span></code></pre></div><h3 id="_2-option-chart-source-code" tabindex="-1">2. Option: Chart Source Code <a class="header-anchor" href="#_2-option-chart-source-code" aria-label="Permalink to &quot;2. Option: Chart Source Code&quot;">​</a></h3><blockquote><p>Choose this option if you want to</p><p>a) modify not only the chart values, but also the chart files.</p><p>b) run the newest, not yet released version of the chart.</p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/PrivateAIM/helm.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> helm</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> charts/flame-hub</span></span></code></pre></div><p>Create your custom values file (instructions below).</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">release</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">values-fil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><h2 id="minimal-configuration-using-custom-values-file" tabindex="-1">Minimal configuration using custom values file <a class="header-anchor" href="#minimal-configuration-using-custom-values-file" aria-label="Permalink to &quot;Minimal configuration using custom values file&quot;">​</a></h2><p>This is the values-file mentioned in the sections above. Call it <code>override_values.yaml</code> or whatever you want.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  flameHub</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ingress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      ssl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      hostname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hub.local&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">grafana</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # disable plugins until plugin issues are fixed</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">harbor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  externalURL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://harbor.hub.local/&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # don&#39;t forget https://</span></span></code></pre></div><h2 id="accessing-the-hub" tabindex="-1">Accessing the hub <a class="header-anchor" href="#accessing-the-hub" aria-label="Permalink to &quot;Accessing the hub&quot;">​</a></h2><p>For accessing the hub in a <strong>minikube</strong> installation, refer to the <a href="./minikube-quickstart.html">Minikube Setup: Accessing Deployments</a></p>`,23)]))}const c=i(n,[["render",l]]);export{u as __pageData,c as default};
